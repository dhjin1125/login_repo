# ğŸ§µ ThreadsRank

Instagram Threads OAuthë¥¼ ì‚¬ìš©í•œ ìŠ¤ë ˆë“œ ë¡œê·¸ì¸ ë° í”¼ë“œ ì¡°íšŒ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

### 1. ì „ì²´ ë¡œê·¸ì¸ í”Œë¡œìš° (End-to-End)
```
ì‹œì‘ â†’ ê¶Œí•œ ìš”ì²­ â†’ ë¡œê·¸ì¸ â†’ OAuth ì¸ì¦ â†’ Threads í”¼ë“œ
```

### 2. ê¶Œí•œ ê´€ë¦¬ ì‹œìŠ¤í…œ
ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì „ì— ì•±ì— í•„ìš”í•œ ê¶Œí•œì„ ì„ íƒí•˜ê³  ìŠ¹ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

#### ìš”ì²­ ê°€ëŠ¥í•œ ê¶Œí•œ:
- **ğŸ‘¤ í”„ë¡œí•„ ì •ë³´** (`user_profile`): ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´ ì ‘ê·¼
- **ğŸ“¸ ë¯¸ë””ì–´ ì •ë³´** (`user_media`): ì‚¬ìš©ì ë¯¸ë””ì–´ ëª©ë¡ ì ‘ê·¼
- **ğŸ“± Threads ê¸°ë³¸** (`threads_basic`): Threads ì½˜í…ì¸  ë° ë©”íƒ€ë°ì´í„° ì ‘ê·¼
- **ğŸ’¬ Threads ë‹µê¸€ ì½ê¸°** (`threads_read_replies`): Threadsì˜ ëŒ“ê¸€ ë° ë‹µê¸€ ì ‘ê·¼
- **ğŸ” Threads í‚¤ì›Œë“œ ê²€ìƒ‰** (`threads_keyword_search`): í‚¤ì›Œë“œë¡œ Threads ê²€ìƒ‰

### 3. ê¶Œí•œë³„ ê¸°ëŠ¥ í™œì„±í™”
ë©”ì¸ í˜ì´ì§€ì—ì„œ ë¶€ì—¬ëœ ê¶Œí•œì— ë”°ë¼ ë‹¤ìŒ ê¸°ëŠ¥ë“¤ì´ í™œì„±í™”ë©ë‹ˆë‹¤:

| ê¶Œí•œ | í™œì„±í™”ë˜ëŠ” ê¸°ëŠ¥ |
|------|----------------|
| `threads_keyword_search` | ğŸ” ê²€ìƒ‰ ë°” í‘œì‹œ, í‚¤ì›Œë“œ ê²€ìƒ‰ ê¸°ëŠ¥ |
| `threads_read_replies` | ğŸ’¬ ëŒ“ê¸€ ìˆ˜ í‘œì‹œ, ë‹µê¸€ ì •ë³´ í‘œì‹œ |
| `threads_basic` | ğŸ“± Threads ê¸°ë³¸ ì½˜í…ì¸  í‘œì‹œ |

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ PermissionsPage.jsx    # ê¶Œí•œ ìš”ì²­ í˜ì´ì§€ (ì‚¬ìš©ì ê¶Œí•œ ì„ íƒ)
â”‚   â”œâ”€â”€ LoginPage.jsx          # Instagram ë¡œê·¸ì¸ í˜ì´ì§€
â”‚   â”œâ”€â”€ MainPage.jsx           # Threads í”¼ë“œ í˜ì´ì§€ (ë©”ì¸)
â”‚   â””â”€â”€ AuthCallback.jsx       # OAuth ì½œë°± ì²˜ë¦¬
â”œâ”€â”€ services/
â”‚   â””â”€â”€ InstagramAuthService.js # Threads API ë° OAuth ì„œë¹„ìŠ¤
â”œâ”€â”€ config/
â”‚   â””â”€â”€ instagram.config.js     # OAuth ë° API ì„¤ì •
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ PermissionsPage.css     # ê¶Œí•œ í˜ì´ì§€ ìŠ¤íƒ€ì¼
â”‚   â”œâ”€â”€ LoginPage.css           # ë¡œê·¸ì¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼
â”‚   â””â”€â”€ MainPage.css            # ë©”ì¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼
â”œâ”€â”€ App.jsx                     # ë¼ìš°íŒ… ì„¤ì •
â””â”€â”€ main.jsx                    # ì§„ì…ì 
```

## ğŸ“‹ ì‚¬ìš© ì‚¬ë¡€ (Use Case)

### ì‹œë‚˜ë¦¬ì˜¤ 1ï¸âƒ£: ì „ì²´ ê¶Œí•œìœ¼ë¡œ ë¡œê·¸ì¸
```
1. ì•± ì‹œì‘ â†’ ê¶Œí•œ ì„ íƒ í˜ì´ì§€ í‘œì‹œ
2. "ëª¨ë‘ ì„ íƒ" í´ë¦­ â†’ ëª¨ë“  ê¶Œí•œ ì„ íƒ
3. "ê¶Œí•œ ì„ íƒ ì™„ë£Œ" â†’ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
4. "Instagramìœ¼ë¡œ ë¡œê·¸ì¸" â†’ Instagram OAuth ì¸ì¦
5. ë©”ì¸ í˜ì´ì§€ì—ì„œ ëª¨ë“  ê¸°ëŠ¥ í™œì„±í™”:
   âœ… ë¶€ì—¬ëœ ê¶Œí•œ ì¹´ë“œ í‘œì‹œ (5ê°œ ëª¨ë‘)
   âœ… í‚¤ì›Œë“œ ê²€ìƒ‰ ë°” í™œì„±í™”
   âœ… ëŒ“ê¸€ ìˆ˜ í‘œì‹œ
   âœ… ë‹µê¸€ ì •ë³´ í‘œì‹œ
```

### ì‹œë‚˜ë¦¬ì˜¤ 2ï¸âƒ£: ì„ íƒì  ê¶Œí•œìœ¼ë¡œ ë¡œê·¸ì¸
```
1. ê¶Œí•œ í˜ì´ì§€ì—ì„œ íŠ¹ì • ê¶Œí•œë§Œ ì„ íƒ
   ì˜ˆ: "Threads ê¸°ë³¸", "Threads ë‹µê¸€ ì½ê¸°"ë§Œ ì„ íƒ (2ê°œ)
2. "ê¶Œí•œ ì„ íƒ ì™„ë£Œ" â†’ ë¡œê·¸ì¸ ì§„í–‰
3. ë©”ì¸ í˜ì´ì§€ì—ì„œ:
   âœ… ì„ íƒëœ ê¶Œí•œ ì¹´ë“œë§Œ í‘œì‹œ (2ê°œ)
   âŒ ê²€ìƒ‰ ë°”ëŠ” ìˆ¨ê²¨ì§ (threads_keyword_search ë¯¸ì„ íƒ)
   âœ… ëŒ“ê¸€ ìˆ˜ëŠ” í‘œì‹œë¨ (threads_read_replies ì„ íƒ)
```

### ì‹œë‚˜ë¦¬ì˜¤ 3ï¸âƒ£: ê¶Œí•œ ë³€ê²½
```
1. ë¡œê·¸ì¸ í›„ ë©”ì¸ í˜ì´ì§€ â†’ "ê¶Œí•œ ë³€ê²½" ë²„íŠ¼ í´ë¦­
2. ê¶Œí•œ í˜ì´ì§€ë¡œ ì´ë™í•˜ì—¬ ê¶Œí•œ ì¬ì„¤ì •
3. ë³€ê²½ëœ ê¶Œí•œìœ¼ë¡œ ì¬ë¡œê·¸ì¸
```

## ğŸ›£ï¸ ë¼ìš°íŒ… ë§µ

| ê²½ë¡œ | í˜ì´ì§€ | ì„¤ëª… |
|------|--------|------|
| `/` | MainPage | Threads í”¼ë“œ (ì¸ì¦ í•„ìˆ˜) |
| `/permissions` | PermissionsPage | ê¶Œí•œ ì„ íƒ í˜ì´ì§€ |
| `/login` | LoginPage | Instagram ë¡œê·¸ì¸ í˜ì´ì§€ |
| `/auth/callback` | AuthCallback | OAuth ì½œë°± ì²˜ë¦¬ |

## ğŸ”Œ ê¶Œí•œë³„ API ë©”ì„œë“œ

### InstagramAuthServiceì—ì„œ ì œê³µí•˜ëŠ” ë©”ì„œë“œ:

```javascript
// ê¶Œí•œ: threads_basic, threads_keyword_search
searchThreads(keyword, accessToken)

// ê¶Œí•œ: threads_read_replies
getThreadReplies(threadId, accessToken)

// ê¶Œí•œ: threads_keyword_search
getThreadsByKeyword(keyword, accessToken)

// ê¶Œí•œ: user_profile
getUserProfile(accessToken)

// ê¶Œí•œ: user_media
getUserMedia(accessToken)

// ê¶Œí•œ í™•ì¸
hasPermissions(requiredPermissions, grantedPermissions)
```

## âš™ï¸ ì„¤ì • ë°©ë²•

### 1ï¸âƒ£ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— `.env` íŒŒì¼ ìƒì„±:
```env
REACT_APP_INSTAGRAM_APP_ID=your_instagram_app_id
REACT_APP_REDIRECT_URI=http://localhost:5173/auth/callback
REACT_APP_BACKEND_API=http://localhost:3001/api
```

### 2ï¸âƒ£ Meta Developer Console ì„¤ì •
1. [Meta Developers](https://developers.facebook.com) ì ‘ì†
2. ì•± ìƒì„± ë˜ëŠ” ì„ íƒ
3. Instagram Graph API ë˜ëŠ” Threads API ì¶”ê°€
4. OAuth ë¦¬ë‹¤ì´ë ‰íŠ¸ URI ë“±ë¡:
   - ê°œë°œ: `http://localhost:5173/auth/callback`
   - í”„ë¡œë•ì…˜: `https://yourdomain.com/auth/callback`
5. ì•± ID ë³µì‚¬í•˜ì—¬ í™˜ê²½ ë³€ìˆ˜ì— ì„¤ì •

### 3ï¸âƒ£ ë°±ì—”ë“œ API êµ¬í˜„ (í•„ìˆ˜)
Authorization codeë¥¼ access tokenìœ¼ë¡œ êµí™˜í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„:

```javascript
// POST /api/auth/instagram/token
// ìš”ì²­:
{
  "code": "authorization_code_from_instagram"
}

// ì‘ë‹µ:
{
  "accessToken": "access_token",
  "user": {
    "id": "user_id",
    "username": "username",
    "name": "Full Name",
    "profile_picture_url": "https://..."
  },
  "grantedPermissions": ["user_profile", "threads_basic", "threads_read_replies", "threads_keyword_search"],
  "timestamp": "2025-01-01T00:00:00Z"
}
```

## ğŸ® ë°ëª¨ ëª¨ë“œ

í˜„ì¬ ì•±ì€ **ë°ëª¨ ëª¨ë“œ**ë¡œ ì‹¤í–‰ë˜ê³  ìˆìŠµë‹ˆë‹¤. ì‹¤ì œ Instagram ê³„ì • ì—†ì´ ë¡œê·¸ì¸ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë°ëª¨ ëª¨ë“œì—ì„œ ì‹¤ì œ êµ¬í˜„ìœ¼ë¡œ ë³€ê²½:

`src/pages/LoginPage.jsx`ì—ì„œ:
```javascript
// ì£¼ì„ ì²˜ë¦¬ëœ ë¶€ë¶„ì„ í™œì„±í™”
// window.location.href = authUrl

// ë°ëª¨ ì½”ë“œëŠ” ì œê±°
// localStorage.setItem('instagramAuth', JSON.stringify(demoToken))
```

## ğŸ”„ ë°ì´í„° íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PermissionsPage                                   â”‚
â”‚ - ì‚¬ìš©ìê°€ ìš”ì²­í•  ê¶Œí•œ ì„ íƒ                         â”‚
â”‚ - sessionStorageì— ì„ íƒëœ ê¶Œí•œ ì €ì¥                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ LoginPage                                         â”‚
â”‚ - ì„ íƒëœ ê¶Œí•œìœ¼ë¡œ OAuth ë¡œê·¸ì¸ URL ìƒì„±             â”‚
â”‚ - Instagram ë¡œê·¸ì¸ ì§„í–‰                           â”‚
â”‚ - grantedPermissionsì„ localStorageì— ì €ì¥         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AuthCallback                                      â”‚
â”‚ - Authorization code ì²˜ë¦¬                         â”‚
â”‚ - ë°±ì—”ë“œì—ì„œ access token êµí™˜                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MainPage                                          â”‚
â”‚ - localStorageì—ì„œ ì¸ì¦ ì •ë³´ ì½ìŒ                   â”‚
â”‚ - grantedPermissionsì— ë”°ë¼ ê¸°ëŠ¥ í™œì„±í™”             â”‚
â”‚ - ê¶Œí•œì— ë§ëŠ” Threads API í˜¸ì¶œ                    â”‚
â”‚ - Threads í”¼ë“œ, ëŒ“ê¸€, ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ ìš´ì˜ ë° ë°°í¬

### ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
# íŒ¨í‚¤ì§€ ì„¤ì¹˜
npm install

# ê°œë°œ ì„œë²„ ì‹œì‘
npm run dev
```

ê°œë°œ ì„œë²„ëŠ” `http://localhost:5173`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### í”„ë¡œë•ì…˜ ë¹Œë“œ
```bash
# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# ë¹Œë“œ ë¯¸ë¦¬ë³´ê¸°
npm run preview
```

## ğŸ” ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

âš ï¸ **í”„ë¡œë•ì…˜ ë°°í¬ ì‹œ ë‹¤ìŒì„ ë°˜ë“œì‹œ í™•ì¸í•˜ì„¸ìš”:**

1. **HTTPS í•„ìˆ˜**: ëª¨ë“  OAuth ë¦¬ë‹¤ì´ë ‰íŠ¸ëŠ” HTTPSì—ì„œë§Œ ì‘ë™
2. **Client Secret ë³´í˜¸**: ì ˆëŒ€ í´ë¼ì´ì–¸íŠ¸ ì‹œí¬ë¦¿ì„ í”„ë¡ íŠ¸ì—”ë“œì— ë…¸ì¶œí•˜ì§€ ë§ˆì„¸ìš”
3. **Token ì €ì¥**: Access tokenì€ httpOnly ì¿ í‚¤ì— ì €ì¥í•˜ëŠ” ê²ƒì´ ë” ì•ˆì „í•©ë‹ˆë‹¤
4. **CORS ì„¤ì •**: ë°±ì—”ë“œì—ì„œ ì ì ˆí•œ CORS ì„¤ì •ì„ êµ¬ì„±í•˜ì„¸ìš”
5. **ê¶Œí•œ ê²€ì¦**: ë°±ì—”ë“œì—ì„œ ëª¨ë“  API ìš”ì²­ ì‹œ ê¶Œí•œì„ ê²€ì¦í•˜ì„¸ìš”
6. **Rate Limiting**: API ìš”ì²­ì— ëŒ€í•œ rate limitingì„ êµ¬í˜„í•˜ì„¸ìš”

## ğŸ“Š ê¶Œí•œë³„ ê¸°ëŠ¥ ë§¤íŠ¸ë¦­ìŠ¤

| ê¸°ëŠ¥ | threads_basic | threads_read_replies | threads_keyword_search |
|------|:---:|:---:|:---:|
| ê¸°ë³¸ ê¸€ ì¡°íšŒ | âœ… | âœ… | âœ… |
| ëŒ“ê¸€/ë‹µê¸€ ì¡°íšŒ | âŒ | âœ… | âœ… |
| í‚¤ì›Œë“œ ê²€ìƒ‰ | âŒ | âŒ | âœ… |
| ì¢‹ì•„ìš” ìˆ˜ | âœ… | âœ… | âœ… |

## ğŸ“š ì°¸ê³  ìë£Œ

- [Meta for Developers](https://developers.facebook.com/)
- [Threads API Documentation](https://developers.facebook.com/docs/threads)
- [Instagram Graph API](https://developers.facebook.com/docs/instagram-api)
- [OAuth 2.0 Standard](https://tools.ietf.org/html/rfc6749)
- [React Router Documentation](https://reactrouter.com/)
- [Vite Documentation](https://vitejs.dev/)

## ğŸ“ ë¼ì´ì„ ìŠ¤

MIT

## ğŸ’¬ ì§€ì›

ë¬¸ì œê°€ ë°œìƒí•˜ë©´ GitHub Issuesì— ë³´ê³ í•´ì£¼ì„¸ìš”.

---

**ThreadsRank** - Instagram Threadsë¥¼ ë” í¸í•˜ê²Œ ì´ìš©í•˜ì„¸ìš”! ğŸš€
